# Blesk - Telegram Bot для продажи слотов Spotify

## Описание проекта
Telegram-бот на Node.js для продажи слотов в семейной подписке Spotify с интеграцией платежной системы Platega.io.

## Текущее состояние
Полностью функциональный бот со следующими возможностями:
- Главное меню с приветствием и картинкой (pick spt)
- Процесс покупки подписки (169 рублей)
- Интеграция с Platega.io для приема платежей
- Сбор учетных данных Spotify после оплаты
- Уведомления администратору с контактом клиента и данными
- Система подтверждения готовности подписки
- Страницы Саппорт и FAQ с картинками

## Недавние изменения (04.10.2025)
- Создан основной файл бота bot.js с полным функционалом
- Добавлена проверка подлинности webhook от Platega.io (X-MerchantId и X-Secret)
- Настроен Express сервер для обработки callback
- Реализована навигация с кнопками "Назад в меню"
- Добавлено хранение данных о платежах в JSON файле

## Архитектура проекта

### Основные компоненты:
1. **bot.js** - основной файл с логикой бота
2. **package.json** - зависимости проекта
3. **data.json** - хранилище данных о платежах (создается автоматически)
4. **attached_assets/** - папка с изображениями для меню

### Зависимости:
- node-telegram-bot-api - работа с Telegram Bot API
- express - веб-сервер для webhook
- axios - HTTP запросы к Platega.io API
- dotenv - управление переменными окружения

### Секреты (хранятся в Replit Secrets):
- BOT_TOKEN - токен Telegram бота
- ADMIN_ID - ID администратора
- PLATEGA_API_KEY - API ключ Platega.io
- PLATEGA_SHOP_ID - ID магазина в Platega.io

## Безопасность
- Все секреты хранятся в Replit Secrets
- Webhook от Platega.io проверяет заголовки X-MerchantId и X-Secret
- Только администратор может подтверждать готовность подписок

## Workflow
- **Bot** - запускает node bot.js на порту 5000

## Пользовательские предпочтения
- Язык интерфейса: русский
- Не использовать AI агентов - простой бот на Node.js
- Отправлять админу контакт клиента вместе с данными Spotify
